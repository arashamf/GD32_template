ARM GAS  /tmp/ccvkHKs4.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"encoder.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.read_gray_code_from_encoder,"ax",%progbits
  18              		.align	1
  19              		.global	read_gray_code_from_encoder
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	read_gray_code_from_encoder:
  25              	.LFB119:
  26              		.file 1 "Core/Source/encoder.c"
   1:Core/Source/encoder.c **** //-------------------------------------------------------------------------------------//
   2:Core/Source/encoder.c **** #include "encoder.h"
   3:Core/Source/encoder.c **** #include "typedef.h"
   4:Core/Source/encoder.c **** #include "gpio.h"
   5:Core/Source/encoder.c **** #include "OLED.h"
   6:Core/Source/encoder.c **** #include "tim.h"
   7:Core/Source/encoder.c **** #include <stdio.h>
   8:Core/Source/encoder.c **** 
   9:Core/Source/encoder.c **** //-------------------------------------------------------------------------------------//
  10:Core/Source/encoder.c **** #define MAX_CNT_TIMEOUT   15
  11:Core/Source/encoder.c **** 
  12:Core/Source/encoder.c **** //-------------------------------------------------------------------------------------//
  13:Core/Source/encoder.c **** uint8_t val_old = 0, val_new = 0; //–∑–Ω–∞—á–µ–Ω–∏—è –±–∏—Ç–æ–≤ —ç–Ω–∫–æ–¥–µ—Ä–∞
  14:Core/Source/encoder.c **** uint8_t flag_dir = 0, flag_rev = 0; //—Ñ–ª–∞–≥ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞
  15:Core/Source/encoder.c **** uint8_t state_machine = SM_WAIT; //—Å—Ç–∞–¥–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞
  16:Core/Source/encoder.c **** //uint8_t flag_end_delay = 0; //—Ñ–ª–∞–≥ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–∞
  17:Core/Source/encoder.c **** uint32_t ms_delay = 10; //–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∞–π–º–∞—É—Ç–∞
  18:Core/Source/encoder.c **** uint8_t cnt_timeout = 0; //–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–π–º–∞—É—Ç–æ–≤ –æ–∂–∏–¥–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–
  19:Core/Source/encoder.c **** int32_t enc_count = 0; //—Å—á—ë—Ç—á–∏–∫ —â–µ–ª—á–∫–æ–≤ —ç–Ω–∫–æ–¥–µ—Ä–∞
  20:Core/Source/encoder.c **** 
  21:Core/Source/encoder.c **** //-----------------------------------------------------------------------------//
  22:Core/Source/encoder.c **** uint8_t read_gray_code_from_encoder(void ) 
  23:Core/Source/encoder.c **** { 
  27              		.loc 1 23 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 14, -4
  35 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/ccvkHKs4.s 			page 2


  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 16
  24:Core/Source/encoder.c ****     volatile uint8_t value = 0; 
  38              		.loc 1 24 5 view .LVU1
  39              		.loc 1 24 22 is_stmt 0 view .LVU2
  40 0004 0023     		movs	r3, #0
  41 0006 8DF80730 		strb	r3, [sp, #7]
  25:Core/Source/encoder.c ****     volatile uint8_t flag = 1;
  42              		.loc 1 25 5 is_stmt 1 view .LVU3
  43              		.loc 1 25 22 is_stmt 0 view .LVU4
  44 000a 0123     		movs	r3, #1
  45 000c 8DF80630 		strb	r3, [sp, #6]
  26:Core/Source/encoder.c **** 
  27:Core/Source/encoder.c ****     if((flag = gpio_input_bit_get(ENC_GPIO_Port, ENC_IN1_PIN)) == RESET) 
  46              		.loc 1 27 5 is_stmt 1 view .LVU5
  47              		.loc 1 27 16 is_stmt 0 view .LVU6
  48 0010 4021     		movs	r1, #64
  49 0012 0F48     		ldr	r0, .L5
  50 0014 FFF7FEFF 		bl	gpio_input_bit_get
  51              	.LVL0:
  52              		.loc 1 27 14 view .LVU7
  53 0018 8DF80600 		strb	r0, [sp, #6]
  54              		.loc 1 27 7 view .LVU8
  55 001c 28B9     		cbnz	r0, .L2
  28:Core/Source/encoder.c ****     { value |= (1<<1); }
  56              		.loc 1 28 7 is_stmt 1 view .LVU9
  57              		.loc 1 28 13 is_stmt 0 view .LVU10
  58 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
  59 0022 43F00203 		orr	r3, r3, #2
  60 0026 8DF80730 		strb	r3, [sp, #7]
  61              	.L2:
  29:Core/Source/encoder.c **** 
  30:Core/Source/encoder.c ****     if((flag = gpio_input_bit_get(ENC_GPIO_Port, ENC_IN2_PIN)) == RESET) 
  62              		.loc 1 30 5 is_stmt 1 view .LVU11
  63              		.loc 1 30 16 is_stmt 0 view .LVU12
  64 002a 1021     		movs	r1, #16
  65 002c 0848     		ldr	r0, .L5
  66 002e FFF7FEFF 		bl	gpio_input_bit_get
  67              	.LVL1:
  68              		.loc 1 30 14 view .LVU13
  69 0032 8DF80600 		strb	r0, [sp, #6]
  70              		.loc 1 30 7 view .LVU14
  71 0036 28B9     		cbnz	r0, .L3
  31:Core/Source/encoder.c ****     { value |= (1<<0); }
  72              		.loc 1 31 7 is_stmt 1 view .LVU15
  73              		.loc 1 31 13 is_stmt 0 view .LVU16
  74 0038 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
  75 003c 43F00103 		orr	r3, r3, #1
  76 0040 8DF80730 		strb	r3, [sp, #7]
  77              	.L3:
  32:Core/Source/encoder.c **** 
  33:Core/Source/encoder.c ****   return value; 
  78              		.loc 1 33 3 is_stmt 1 view .LVU17
  79              		.loc 1 33 10 is_stmt 0 view .LVU18
  80 0044 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
  34:Core/Source/encoder.c **** }
  81              		.loc 1 34 1 view .LVU19
ARM GAS  /tmp/ccvkHKs4.s 			page 3


  82 0048 03B0     		add	sp, sp, #12
  83              	.LCFI2:
  84              		.cfi_def_cfa_offset 4
  85              		@ sp needed
  86 004a 5DF804FB 		ldr	pc, [sp], #4
  87              	.L6:
  88 004e 00BF     		.align	2
  89              	.L5:
  90 0050 000C0140 		.word	1073810432
  91              		.cfi_endproc
  92              	.LFE119:
  94              		.section	.rodata.read_data_encoder.str1.4,"aMS",%progbits,1
  95              		.align	2
  96              	.LC0:
  97 0000 2D636E74 		.ascii	"-cnt=%ld, %x, %x, %x\000"
  97      3D256C64 
  97      2C202578 
  97      2C202578 
  97      2C202578 
  98 0015 000000   		.align	2
  99              	.LC1:
 100 0018 2B636E74 		.ascii	"+cnt=%ld, %x, %x, %x\000"
 100      3D256C64 
 100      2C202578 
 100      2C202578 
 100      2C202578 
 101              		.section	.text.read_data_encoder,"ax",%progbits
 102              		.align	1
 103              		.global	read_data_encoder
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	read_data_encoder:
 109              	.LFB120:
  35:Core/Source/encoder.c **** 
  36:Core/Source/encoder.c **** //-----------------------------------------------------------------------------//
  37:Core/Source/encoder.c **** void read_data_encoder(void)
  38:Core/Source/encoder.c **** {
 110              		.loc 1 38 1 is_stmt 1 view -0
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114 0000 30B5     		push	{r4, r5, lr}
 115              	.LCFI3:
 116              		.cfi_def_cfa_offset 12
 117              		.cfi_offset 4, -12
 118              		.cfi_offset 5, -8
 119              		.cfi_offset 14, -4
 120 0002 85B0     		sub	sp, sp, #20
 121              	.LCFI4:
 122              		.cfi_def_cfa_offset 32
  39:Core/Source/encoder.c ****   //for (uint32_t count = 0; count < 500000; count++)
  40:Core/Source/encoder.c ****   { 
  41:Core/Source/encoder.c ****     {
  42:Core/Source/encoder.c ****       val_new = read_gray_code_from_encoder(); //—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —ç–Ω–∫–æ–¥–µ—Ä–∞
 123              		.loc 1 42 7 view .LVU21
 124              		.loc 1 42 17 is_stmt 0 view .LVU22
ARM GAS  /tmp/ccvkHKs4.s 			page 4


 125 0004 FFF7FEFF 		bl	read_gray_code_from_encoder
 126              	.LVL2:
 127              		.loc 1 42 15 view .LVU23
 128 0008 954B     		ldr	r3, .L44
 129 000a 1870     		strb	r0, [r3]
  43:Core/Source/encoder.c **** 
  44:Core/Source/encoder.c ****       switch (state_machine) //–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ —Å—Ç–∞–¥–∏–∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç
 130              		.loc 1 44 7 is_stmt 1 view .LVU24
 131 000c 954B     		ldr	r3, .L44+4
 132 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 133 0010 042B     		cmp	r3, #4
 134 0012 00F24E81 		bhi	.L7
 135 0016 DFE813F0 		tbh	[pc, r3, lsl #1]
 136              	.L10:
 137 001a 0500     		.2byte	(.L14-.L10)/2
 138 001c 3100     		.2byte	(.L13-.L10)/2
 139 001e 6800     		.2byte	(.L12-.L10)/2
 140 0020 B100     		.2byte	(.L11-.L10)/2
 141 0022 3B01     		.2byte	(.L9-.L10)/2
 142              		.p2align 1
 143              	.L14:
  45:Core/Source/encoder.c ****       {
  46:Core/Source/encoder.c ****         case SM_WAIT: //—Å—Ç–∞–¥–∏—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
  47:Core/Source/encoder.c ****         if (flag_end_delay == 0) //–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –∏—Å—Ç—ë–∫
 144              		.loc 1 47 9 view .LVU25
 145              		.loc 1 47 28 is_stmt 0 view .LVU26
 146 0024 904B     		ldr	r3, .L44+8
 147 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 148              		.loc 1 47 12 view .LVU27
 149 0028 002B     		cmp	r3, #0
 150 002a 40F04281 		bne	.L7
  48:Core/Source/encoder.c ****         {
  49:Core/Source/encoder.c ****           if (val_new != val_old) //–µ—Å–ª–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å
 151              		.loc 1 49 11 is_stmt 1 view .LVU28
 152              		.loc 1 49 23 is_stmt 0 view .LVU29
 153 002e 8F4B     		ldr	r3, .L44+12
 154 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 155              		.loc 1 49 14 view .LVU30
 156 0032 9842     		cmp	r0, r3
 157 0034 00F03D81 		beq	.L7
  50:Core/Source/encoder.c **** 	        { 
  51:Core/Source/encoder.c ****             if (val_new == PULSE_STATE_FIRST_REV) 
 158              		.loc 1 51 13 is_stmt 1 view .LVU31
 159              		.loc 1 51 16 is_stmt 0 view .LVU32
 160 0038 0128     		cmp	r0, #1
 161 003a 13D0     		beq	.L34
  52:Core/Source/encoder.c ****             {
  53:Core/Source/encoder.c ****               state_machine = SM_FIRST; //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é –∞–≤—
  54:Core/Source/encoder.c ****               flag_rev = 1; //—Ñ–ª–∞–≥ —Ä–µ–≤–µ—Ä—Å–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
  55:Core/Source/encoder.c **** 
  56:Core/Source/encoder.c ****               #ifdef __USE_DBG
  57:Core/Source/encoder.c **** 		            sprintf (DBG_buffer,  "1WAIT,flag_rev=%u\r\n", val_new);
  58:Core/Source/encoder.c **** 		            DBG_PutString(DBG_buffer);
  59:Core/Source/encoder.c **** 	            #endif
  60:Core/Source/encoder.c ****             }
  61:Core/Source/encoder.c ****             else
  62:Core/Source/encoder.c ****             {
ARM GAS  /tmp/ccvkHKs4.s 			page 5


  63:Core/Source/encoder.c ****               if (val_new == PULSE_STATE_FIRST_DIR)
 162              		.loc 1 63 15 is_stmt 1 view .LVU33
 163              		.loc 1 63 18 is_stmt 0 view .LVU34
 164 003c 0228     		cmp	r0, #2
 165 003e 17D0     		beq	.L35
  64:Core/Source/encoder.c ****               {
  65:Core/Source/encoder.c ****                 state_machine = SM_FIRST; //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é –∞–
  66:Core/Source/encoder.c ****                 flag_dir = 1; //—Ñ–ª–∞–≥ –ø—Ä—è–º–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
  67:Core/Source/encoder.c **** 
  68:Core/Source/encoder.c ****                 #ifdef __USE_DBG
  69:Core/Source/encoder.c **** 		              sprintf (DBG_buffer,  "1WAIT,flag_dir=%u\r\n", val_new);
  70:Core/Source/encoder.c **** 		              DBG_PutString(DBG_buffer);
  71:Core/Source/encoder.c **** 	              #endif
  72:Core/Source/encoder.c ****               }
  73:Core/Source/encoder.c ****               else 
  74:Core/Source/encoder.c ****               {
  75:Core/Source/encoder.c ****                 #ifdef __USE_DBG
  76:Core/Source/encoder.c ****                   sprintf (DBG_buffer,  "1RESET,new=%u,old=%u\r\n",  val_new, val_old);
  77:Core/Source/encoder.c **** 		              DBG_PutString(DBG_buffer);
  78:Core/Source/encoder.c **** 	              #endif
  79:Core/Source/encoder.c **** 
  80:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 166              		.loc 1 80 17 is_stmt 1 view .LVU35
 167              		.loc 1 80 37 is_stmt 0 view .LVU36
 168 0040 0023     		movs	r3, #0
 169 0042 8B4A     		ldr	r2, .L44+16
 170 0044 1370     		strb	r3, [r2]
 171              		.loc 1 80 26 view .LVU37
 172 0046 8B4A     		ldr	r2, .L44+20
 173 0048 1370     		strb	r3, [r2]
  81:Core/Source/encoder.c ****                 state_machine = SM_RESET;  //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ
 174              		.loc 1 81 17 is_stmt 1 view .LVU38
 175              		.loc 1 81 31 is_stmt 0 view .LVU39
 176 004a 864B     		ldr	r3, .L44+4
 177 004c 0422     		movs	r2, #4
 178 004e 1A70     		strb	r2, [r3]
 179              	.L16:
  82:Core/Source/encoder.c ****               }
  83:Core/Source/encoder.c ****             }
  84:Core/Source/encoder.c ****             cnt_timeout = 0; //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
 180              		.loc 1 84 13 is_stmt 1 view .LVU40
 181              		.loc 1 84 25 is_stmt 0 view .LVU41
 182 0050 894B     		ldr	r3, .L44+24
 183 0052 0022     		movs	r2, #0
 184 0054 1A70     		strb	r2, [r3]
  85:Core/Source/encoder.c ****             val_old = val_new; //—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–
 185              		.loc 1 85 13 is_stmt 1 view .LVU42
 186              		.loc 1 85 21 is_stmt 0 view .LVU43
 187 0056 854B     		ldr	r3, .L44+12
 188 0058 1870     		strb	r0, [r3]
  86:Core/Source/encoder.c ****             delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 189              		.loc 1 86 13 is_stmt 1 view .LVU44
 190 005a 884B     		ldr	r3, .L44+28
 191 005c 1888     		ldrh	r0, [r3]
 192 005e FFF7FEFF 		bl	delay_ms
 193              	.LVL3:
 194 0062 26E1     		b	.L7
ARM GAS  /tmp/ccvkHKs4.s 			page 6


 195              	.L34:
  53:Core/Source/encoder.c ****               flag_rev = 1; //—Ñ–ª–∞–≥ —Ä–µ–≤–µ—Ä—Å–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
 196              		.loc 1 53 15 view .LVU45
  53:Core/Source/encoder.c ****               flag_rev = 1; //—Ñ–ª–∞–≥ —Ä–µ–≤–µ—Ä—Å–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
 197              		.loc 1 53 29 is_stmt 0 view .LVU46
 198 0064 0123     		movs	r3, #1
 199 0066 7F4A     		ldr	r2, .L44+4
 200 0068 1370     		strb	r3, [r2]
  54:Core/Source/encoder.c **** 
 201              		.loc 1 54 15 is_stmt 1 view .LVU47
  54:Core/Source/encoder.c **** 
 202              		.loc 1 54 24 is_stmt 0 view .LVU48
 203 006a 824A     		ldr	r2, .L44+20
 204 006c 1370     		strb	r3, [r2]
 205 006e EFE7     		b	.L16
 206              	.L35:
  65:Core/Source/encoder.c ****                 flag_dir = 1; //—Ñ–ª–∞–≥ –ø—Ä—è–º–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
 207              		.loc 1 65 17 is_stmt 1 view .LVU49
  65:Core/Source/encoder.c ****                 flag_dir = 1; //—Ñ–ª–∞–≥ –ø—Ä—è–º–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
 208              		.loc 1 65 31 is_stmt 0 view .LVU50
 209 0070 0123     		movs	r3, #1
 210 0072 7C4A     		ldr	r2, .L44+4
 211 0074 1370     		strb	r3, [r2]
  66:Core/Source/encoder.c **** 
 212              		.loc 1 66 17 is_stmt 1 view .LVU51
  66:Core/Source/encoder.c **** 
 213              		.loc 1 66 26 is_stmt 0 view .LVU52
 214 0076 7E4A     		ldr	r2, .L44+16
 215 0078 1370     		strb	r3, [r2]
 216 007a E9E7     		b	.L16
 217              	.L13:
  87:Core/Source/encoder.c ****           }
  88:Core/Source/encoder.c ****         }
  89:Core/Source/encoder.c ****         break;
  90:Core/Source/encoder.c **** 
  91:Core/Source/encoder.c ****         case SM_FIRST: //—Å—Ç–∞–¥–∏—è —Å—Ä–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
  92:Core/Source/encoder.c ****           if (flag_end_delay == 0) //–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –∏—Å—Ç—ë–∫
 218              		.loc 1 92 11 is_stmt 1 view .LVU53
 219              		.loc 1 92 30 is_stmt 0 view .LVU54
 220 007c 7A4B     		ldr	r3, .L44+8
 221 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 222              		.loc 1 92 14 view .LVU55
 223 0080 002B     		cmp	r3, #0
 224 0082 40F01681 		bne	.L7
  93:Core/Source/encoder.c ****           {
  94:Core/Source/encoder.c ****             if (val_new == val_old)
 225              		.loc 1 94 13 is_stmt 1 view .LVU56
 226              		.loc 1 94 25 is_stmt 0 view .LVU57
 227 0086 794B     		ldr	r3, .L44+12
 228 0088 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 229              		.loc 1 94 16 view .LVU58
 230 008a 9842     		cmp	r0, r3
 231 008c 13D0     		beq	.L36
  95:Core/Source/encoder.c **** 	          { 
  96:Core/Source/encoder.c ****               cnt_timeout++;
  97:Core/Source/encoder.c ****               if (cnt_timeout > MAX_CNT_TIMEOUT)
  98:Core/Source/encoder.c ****               {
ARM GAS  /tmp/ccvkHKs4.s 			page 7


  99:Core/Source/encoder.c ****                 cnt_timeout = 0;  //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
 100:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 101:Core/Source/encoder.c ****                 state_machine = SM_RESET;
 102:Core/Source/encoder.c ****               }
 103:Core/Source/encoder.c ****               else
 104:Core/Source/encoder.c ****               { delay_ms (ms_delay); }//–æ–∂–∏–¥–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∫–∞–∑–∞–Ω–∏–π —ç–Ω
 105:Core/Source/encoder.c ****             }       
 106:Core/Source/encoder.c ****           else
 107:Core/Source/encoder.c ****           { 
 108:Core/Source/encoder.c ****             #ifdef __USE_DBG
 109:Core/Source/encoder.c ****               sprintf (DBG_buffer,  "2FIRST,val_new=%u\r\n",  val_new);
 110:Core/Source/encoder.c **** 		          DBG_PutString(DBG_buffer);
 111:Core/Source/encoder.c **** 	          #endif
 112:Core/Source/encoder.c **** 
 113:Core/Source/encoder.c ****             cnt_timeout = 0; //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤             
 232              		.loc 1 113 13 is_stmt 1 view .LVU59
 233              		.loc 1 113 25 is_stmt 0 view .LVU60
 234 008e 7A4B     		ldr	r3, .L44+24
 235 0090 0022     		movs	r2, #0
 236 0092 1A70     		strb	r2, [r3]
 114:Core/Source/encoder.c ****             val_old = val_new; //—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–
 237              		.loc 1 114 13 is_stmt 1 view .LVU61
 238              		.loc 1 114 21 is_stmt 0 view .LVU62
 239 0094 754B     		ldr	r3, .L44+12
 240 0096 1870     		strb	r0, [r3]
 115:Core/Source/encoder.c ****             if (val_new == PULSE_STATE_SECOND) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–∫–æ–¥–µ—Ä–∞ —Å–æ–æ—Ç
 241              		.loc 1 115 13 is_stmt 1 view .LVU63
 242              		.loc 1 115 16 is_stmt 0 view .LVU64
 243 0098 0328     		cmp	r0, #3
 244 009a 22D0     		beq	.L37
 116:Core/Source/encoder.c ****             { state_machine = SM_NULL; } //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é –∞–≤
 117:Core/Source/encoder.c ****             else //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—Ç –æ–∂–∏
 118:Core/Source/encoder.c ****             {
 119:Core/Source/encoder.c ****               flag_rev = flag_dir = 0;
 245              		.loc 1 119 15 is_stmt 1 view .LVU65
 246              		.loc 1 119 35 is_stmt 0 view .LVU66
 247 009c 0023     		movs	r3, #0
 248 009e 744A     		ldr	r2, .L44+16
 249 00a0 1370     		strb	r3, [r2]
 250              		.loc 1 119 24 view .LVU67
 251 00a2 744A     		ldr	r2, .L44+20
 252 00a4 1370     		strb	r3, [r2]
 120:Core/Source/encoder.c ****               state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç–∞–¥–∏—é —Å–±—Ä–æ—Å–∞ –ø–æ–∫–∞–∑–
 253              		.loc 1 120 15 is_stmt 1 view .LVU68
 254              		.loc 1 120 29 is_stmt 0 view .LVU69
 255 00a6 6F4B     		ldr	r3, .L44+4
 256 00a8 0422     		movs	r2, #4
 257 00aa 1A70     		strb	r2, [r3]
 258              	.L21:
 121:Core/Source/encoder.c ****             }
 122:Core/Source/encoder.c ****             delay_ms (ms_delay);  //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏
 259              		.loc 1 122 13 is_stmt 1 view .LVU70
 260 00ac 734B     		ldr	r3, .L44+28
 261 00ae 1888     		ldrh	r0, [r3]
 262 00b0 FFF7FEFF 		bl	delay_ms
 263              	.LVL4:
 264 00b4 FDE0     		b	.L7
ARM GAS  /tmp/ccvkHKs4.s 			page 8


 265              	.L36:
  96:Core/Source/encoder.c ****               if (cnt_timeout > MAX_CNT_TIMEOUT)
 266              		.loc 1 96 15 view .LVU71
  96:Core/Source/encoder.c ****               if (cnt_timeout > MAX_CNT_TIMEOUT)
 267              		.loc 1 96 26 is_stmt 0 view .LVU72
 268 00b6 704A     		ldr	r2, .L44+24
 269 00b8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 270 00ba 0133     		adds	r3, r3, #1
 271 00bc DBB2     		uxtb	r3, r3
 272 00be 1370     		strb	r3, [r2]
  97:Core/Source/encoder.c ****               {
 273              		.loc 1 97 15 is_stmt 1 view .LVU73
  97:Core/Source/encoder.c ****               {
 274              		.loc 1 97 18 is_stmt 0 view .LVU74
 275 00c0 0F2B     		cmp	r3, #15
 276 00c2 09D9     		bls	.L19
  99:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 277              		.loc 1 99 17 is_stmt 1 view .LVU75
  99:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 278              		.loc 1 99 29 is_stmt 0 view .LVU76
 279 00c4 0023     		movs	r3, #0
 280 00c6 1370     		strb	r3, [r2]
 100:Core/Source/encoder.c ****                 state_machine = SM_RESET;
 281              		.loc 1 100 17 is_stmt 1 view .LVU77
 100:Core/Source/encoder.c ****                 state_machine = SM_RESET;
 282              		.loc 1 100 37 is_stmt 0 view .LVU78
 283 00c8 694A     		ldr	r2, .L44+16
 284 00ca 1370     		strb	r3, [r2]
 100:Core/Source/encoder.c ****                 state_machine = SM_RESET;
 285              		.loc 1 100 26 view .LVU79
 286 00cc 694A     		ldr	r2, .L44+20
 287 00ce 1370     		strb	r3, [r2]
 101:Core/Source/encoder.c ****               }
 288              		.loc 1 101 17 is_stmt 1 view .LVU80
 101:Core/Source/encoder.c ****               }
 289              		.loc 1 101 31 is_stmt 0 view .LVU81
 290 00d0 644B     		ldr	r3, .L44+4
 291 00d2 0422     		movs	r2, #4
 292 00d4 1A70     		strb	r2, [r3]
 293 00d6 ECE0     		b	.L7
 294              	.L19:
 104:Core/Source/encoder.c ****             }       
 295              		.loc 1 104 17 is_stmt 1 view .LVU82
 296 00d8 684B     		ldr	r3, .L44+28
 297 00da 1888     		ldrh	r0, [r3]
 298 00dc FFF7FEFF 		bl	delay_ms
 299              	.LVL5:
 300 00e0 E7E0     		b	.L7
 301              	.L37:
 116:Core/Source/encoder.c ****             else //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—Ç –æ–∂–∏
 302              		.loc 1 116 15 view .LVU83
 116:Core/Source/encoder.c ****             else //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—Ç –æ–∂–∏
 303              		.loc 1 116 29 is_stmt 0 view .LVU84
 304 00e2 604B     		ldr	r3, .L44+4
 305 00e4 0222     		movs	r2, #2
 306 00e6 1A70     		strb	r2, [r3]
 307 00e8 E0E7     		b	.L21
ARM GAS  /tmp/ccvkHKs4.s 			page 9


 308              	.L12:
 123:Core/Source/encoder.c ****           }
 124:Core/Source/encoder.c ****         }
 125:Core/Source/encoder.c ****         break;        
 126:Core/Source/encoder.c **** 
 127:Core/Source/encoder.c ****         case SM_NULL: //—Å—Ç–∞–¥–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 128:Core/Source/encoder.c ****           if (flag_end_delay == 0) //–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –∏—Å—Ç—ë–∫
 309              		.loc 1 128 11 is_stmt 1 view .LVU85
 310              		.loc 1 128 30 is_stmt 0 view .LVU86
 311 00ea 5F4B     		ldr	r3, .L44+8
 312 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 313              		.loc 1 128 14 view .LVU87
 314 00ee 002B     		cmp	r3, #0
 315 00f0 40F0DF80 		bne	.L7
 129:Core/Source/encoder.c ****           {
 130:Core/Source/encoder.c ****             if (val_new == val_old) //–µ—Å–ª–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω–
 316              		.loc 1 130 13 is_stmt 1 view .LVU88
 317              		.loc 1 130 25 is_stmt 0 view .LVU89
 318 00f4 5D4B     		ldr	r3, .L44+12
 319 00f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 320              		.loc 1 130 16 view .LVU90
 321 00f8 9842     		cmp	r0, r3
 322 00fa 13D0     		beq	.L38
 131:Core/Source/encoder.c **** 	          { 
 132:Core/Source/encoder.c ****               if (cnt_timeout > MAX_CNT_TIMEOUT) //–µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–π–º–∞—É—Ç–æ–≤
 133:Core/Source/encoder.c ****               {
 134:Core/Source/encoder.c ****                 cnt_timeout = 0;  //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
 135:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 136:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ–
 137:Core/Source/encoder.c ****               }
 138:Core/Source/encoder.c ****               else
 139:Core/Source/encoder.c ****               {  delay_ms (ms_delay); }//–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è –∏–∑–º–µ–Ω–
 140:Core/Source/encoder.c ****             }       
 141:Core/Source/encoder.c ****             else
 142:Core/Source/encoder.c ****             { 
 143:Core/Source/encoder.c ****               #ifdef __USE_DBG
 144:Core/Source/encoder.c ****                 sprintf (DBG_buffer,  "3NULL,val_new=%u\r\n",  val_new);
 145:Core/Source/encoder.c **** 		            DBG_PutString(DBG_buffer);
 146:Core/Source/encoder.c **** 	            #endif
 147:Core/Source/encoder.c **** 
 148:Core/Source/encoder.c ****               if (val_new ==  PULSE_STATE_LAST_REV) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–∫–æ–¥–µ—Ä–∞ —Å–
 323              		.loc 1 148 15 is_stmt 1 view .LVU91
 324              		.loc 1 148 18 is_stmt 0 view .LVU92
 325 00fc 0228     		cmp	r0, #2
 326 00fe 25D0     		beq	.L39
 149:Core/Source/encoder.c ****               {
 150:Core/Source/encoder.c ****                 if (flag_rev == 1) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ —Ä–µ–≤–µ—Ä—Å–Ω–æ–≥–æ –ø
 151:Core/Source/encoder.c ****                 { 
 152:Core/Source/encoder.c ****                   state_machine = SM_LAST;  //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é –
 153:Core/Source/encoder.c ****                   delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 154:Core/Source/encoder.c ****                 }              
 155:Core/Source/encoder.c ****               }
 156:Core/Source/encoder.c ****               else
 157:Core/Source/encoder.c ****               {
 158:Core/Source/encoder.c ****                 if (val_new == PULSE_STATE_LAST_DIR) //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–∫–æ–¥–µ—Ä–∞ —Å
 327              		.loc 1 158 17 is_stmt 1 view .LVU93
 328              		.loc 1 158 20 is_stmt 0 view .LVU94
ARM GAS  /tmp/ccvkHKs4.s 			page 10


 329 0100 0128     		cmp	r0, #1
 330 0102 2FD0     		beq	.L40
 159:Core/Source/encoder.c ****                 {
 160:Core/Source/encoder.c ****                   if (flag_dir == 1) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ –ø—Ä—è–º–æ–≥–æ –ø–æ–≤
 161:Core/Source/encoder.c ****                   {  
 162:Core/Source/encoder.c ****                     state_machine = SM_LAST;  //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é
 163:Core/Source/encoder.c ****                     delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 164:Core/Source/encoder.c ****                   }
 165:Core/Source/encoder.c ****                 }
 166:Core/Source/encoder.c ****                 else //–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—Ç –æ
 167:Core/Source/encoder.c ****                 {
 168:Core/Source/encoder.c ****                   flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—
 331              		.loc 1 168 19 is_stmt 1 view .LVU95
 332              		.loc 1 168 39 is_stmt 0 view .LVU96
 333 0104 0023     		movs	r3, #0
 334 0106 5A4A     		ldr	r2, .L44+16
 335 0108 1370     		strb	r3, [r2]
 336              		.loc 1 168 28 view .LVU97
 337 010a 5A4A     		ldr	r2, .L44+20
 338 010c 1370     		strb	r3, [r2]
 169:Core/Source/encoder.c ****                   state_machine = SM_RESET;  //–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç–∞–¥–∏—é —Å–±—Ä–æ—Å–∞ –ø–æ–∫
 339              		.loc 1 169 19 is_stmt 1 view .LVU98
 340              		.loc 1 169 33 is_stmt 0 view .LVU99
 341 010e 554B     		ldr	r3, .L44+4
 342 0110 0422     		movs	r2, #4
 343 0112 1A70     		strb	r2, [r3]
 344              	.L25:
 170:Core/Source/encoder.c ****                 }
 171:Core/Source/encoder.c ****               }
 172:Core/Source/encoder.c ****               val_old = val_new; //—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–
 345              		.loc 1 172 15 is_stmt 1 view .LVU100
 346              		.loc 1 172 23 is_stmt 0 view .LVU101
 347 0114 524B     		ldr	r3, .L44
 348 0116 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 349 0118 544B     		ldr	r3, .L44+12
 350 011a 1A70     		strb	r2, [r3]
 173:Core/Source/encoder.c ****               cnt_timeout = 0; //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
 351              		.loc 1 173 15 is_stmt 1 view .LVU102
 352              		.loc 1 173 27 is_stmt 0 view .LVU103
 353 011c 564B     		ldr	r3, .L44+24
 354 011e 0022     		movs	r2, #0
 355 0120 1A70     		strb	r2, [r3]
 356 0122 C6E0     		b	.L7
 357              	.L38:
 132:Core/Source/encoder.c ****               {
 358              		.loc 1 132 15 is_stmt 1 view .LVU104
 132:Core/Source/encoder.c ****               {
 359              		.loc 1 132 31 is_stmt 0 view .LVU105
 360 0124 544B     		ldr	r3, .L44+24
 361 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 132:Core/Source/encoder.c ****               {
 362              		.loc 1 132 18 view .LVU106
 363 0128 0F2B     		cmp	r3, #15
 364 012a 0AD9     		bls	.L23
 134:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
 365              		.loc 1 134 17 is_stmt 1 view .LVU107
 134:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–
ARM GAS  /tmp/ccvkHKs4.s 			page 11


 366              		.loc 1 134 29 is_stmt 0 view .LVU108
 367 012c 0023     		movs	r3, #0
 368 012e 524A     		ldr	r2, .L44+24
 369 0130 1370     		strb	r3, [r2]
 135:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ–
 370              		.loc 1 135 17 is_stmt 1 view .LVU109
 135:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ–
 371              		.loc 1 135 37 is_stmt 0 view .LVU110
 372 0132 4F4A     		ldr	r2, .L44+16
 373 0134 1370     		strb	r3, [r2]
 135:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ–
 374              		.loc 1 135 26 view .LVU111
 375 0136 4F4A     		ldr	r2, .L44+20
 376 0138 1370     		strb	r3, [r2]
 136:Core/Source/encoder.c ****               }
 377              		.loc 1 136 17 is_stmt 1 view .LVU112
 136:Core/Source/encoder.c ****               }
 378              		.loc 1 136 31 is_stmt 0 view .LVU113
 379 013a 4A4B     		ldr	r3, .L44+4
 380 013c 0422     		movs	r2, #4
 381 013e 1A70     		strb	r2, [r3]
 382 0140 B7E0     		b	.L7
 383              	.L23:
 139:Core/Source/encoder.c ****             }       
 384              		.loc 1 139 18 is_stmt 1 view .LVU114
 385 0142 4E4B     		ldr	r3, .L44+28
 386 0144 1888     		ldrh	r0, [r3]
 387 0146 FFF7FEFF 		bl	delay_ms
 388              	.LVL6:
 389 014a B2E0     		b	.L7
 390              	.L39:
 150:Core/Source/encoder.c ****                 { 
 391              		.loc 1 150 17 view .LVU115
 150:Core/Source/encoder.c ****                 { 
 392              		.loc 1 150 30 is_stmt 0 view .LVU116
 393 014c 494B     		ldr	r3, .L44+20
 394 014e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 150:Core/Source/encoder.c ****                 { 
 395              		.loc 1 150 20 view .LVU117
 396 0150 012B     		cmp	r3, #1
 397 0152 DFD1     		bne	.L25
 152:Core/Source/encoder.c ****                   delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 398              		.loc 1 152 19 is_stmt 1 view .LVU118
 152:Core/Source/encoder.c ****                   delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 399              		.loc 1 152 33 is_stmt 0 view .LVU119
 400 0154 434B     		ldr	r3, .L44+4
 401 0156 0322     		movs	r2, #3
 402 0158 1A70     		strb	r2, [r3]
 153:Core/Source/encoder.c ****                 }              
 403              		.loc 1 153 19 is_stmt 1 view .LVU120
 404 015a 484B     		ldr	r3, .L44+28
 405 015c 1888     		ldrh	r0, [r3]
 406 015e FFF7FEFF 		bl	delay_ms
 407              	.LVL7:
 408 0162 D7E7     		b	.L25
 409              	.L40:
 160:Core/Source/encoder.c ****                   {  
ARM GAS  /tmp/ccvkHKs4.s 			page 12


 410              		.loc 1 160 19 view .LVU121
 160:Core/Source/encoder.c ****                   {  
 411              		.loc 1 160 32 is_stmt 0 view .LVU122
 412 0164 424B     		ldr	r3, .L44+16
 413 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 160:Core/Source/encoder.c ****                   {  
 414              		.loc 1 160 22 view .LVU123
 415 0168 012B     		cmp	r3, #1
 416 016a D3D1     		bne	.L25
 162:Core/Source/encoder.c ****                     delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 417              		.loc 1 162 21 is_stmt 1 view .LVU124
 162:Core/Source/encoder.c ****                     delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 418              		.loc 1 162 35 is_stmt 0 view .LVU125
 419 016c 3D4B     		ldr	r3, .L44+4
 420 016e 0322     		movs	r2, #3
 421 0170 1A70     		strb	r2, [r3]
 163:Core/Source/encoder.c ****                   }
 422              		.loc 1 163 21 is_stmt 1 view .LVU126
 423 0172 424B     		ldr	r3, .L44+28
 424 0174 1888     		ldrh	r0, [r3]
 425 0176 FFF7FEFF 		bl	delay_ms
 426              	.LVL8:
 427 017a CBE7     		b	.L25
 428              	.L11:
 174:Core/Source/encoder.c ****             }
 175:Core/Source/encoder.c ****           }
 176:Core/Source/encoder.c ****           break;
 177:Core/Source/encoder.c **** 
 178:Core/Source/encoder.c ****         case  SM_LAST: //–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–¥–∏–∏ –∏–º–ø—É–ª—å—Å–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø–æ —É–º–
 179:Core/Source/encoder.c ****           if (flag_end_delay == 0) //–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –∏—Å—Ç—ë–∫
 429              		.loc 1 179 11 view .LVU127
 430              		.loc 1 179 30 is_stmt 0 view .LVU128
 431 017c 3A4B     		ldr	r3, .L44+8
 432 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 433              		.loc 1 179 14 view .LVU129
 434 0180 002B     		cmp	r3, #0
 435 0182 40F09680 		bne	.L7
 180:Core/Source/encoder.c ****           {
 181:Core/Source/encoder.c ****             if (val_new == val_old) //–µ—Å–ª–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω–
 436              		.loc 1 181 13 is_stmt 1 view .LVU130
 437              		.loc 1 181 25 is_stmt 0 view .LVU131
 438 0186 394B     		ldr	r3, .L44+12
 439 0188 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 440              		.loc 1 181 16 view .LVU132
 441 018a 9842     		cmp	r0, r3
 442 018c 15D0     		beq	.L41
 182:Core/Source/encoder.c **** 	          { 
 183:Core/Source/encoder.c ****               if (cnt_timeout > MAX_CNT_TIMEOUT) //–µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–π–º–∞—É—Ç–æ–≤
 184:Core/Source/encoder.c ****               {
 185:Core/Source/encoder.c ****                 cnt_timeout = 0;  //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
 186:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; 
 187:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–
 188:Core/Source/encoder.c ****               }
 189:Core/Source/encoder.c ****               else
 190:Core/Source/encoder.c ****               {  delay_ms (ms_delay); }//—Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∫–
 191:Core/Source/encoder.c ****             }       
 192:Core/Source/encoder.c ****             else
ARM GAS  /tmp/ccvkHKs4.s 			page 13


 193:Core/Source/encoder.c ****             {
 194:Core/Source/encoder.c ****               #ifdef __USE_DBG
 195:Core/Source/encoder.c ****                 sprintf (DBG_buffer,  " 4LAST,val_new=%u\r\n",  val_new);
 196:Core/Source/encoder.c **** 		            DBG_PutString(DBG_buffer);
 197:Core/Source/encoder.c **** 	            #endif
 198:Core/Source/encoder.c ****                 
 199:Core/Source/encoder.c ****               if (flag_rev == 1) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ —Ä–µ–≤–µ—Ä—Å–Ω–æ–≥–æ –ø–æ
 443              		.loc 1 199 15 is_stmt 1 view .LVU133
 444              		.loc 1 199 28 is_stmt 0 view .LVU134
 445 018e 394B     		ldr	r3, .L44+20
 446 0190 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 447              		.loc 1 199 18 view .LVU135
 448 0192 012B     		cmp	r3, #1
 449 0194 25D0     		beq	.L42
 200:Core/Source/encoder.c ****               {
 201:Core/Source/encoder.c ****                 enc_count--;  
 202:Core/Source/encoder.c ****                 OLED_Clear(NONE_INVERTED);
 203:Core/Source/encoder.c ****                 snprintf(lcd_buf, 25,"-cnt=%ld, %x, %x, %x", enc_count, val_new, val_old, val_old |
 204:Core/Source/encoder.c ****                 OLED_DrawStr(lcd_buf, 15, 25);
 205:Core/Source/encoder.c ****                 OLED_UpdateScreen();
 206:Core/Source/encoder.c ****               }
 207:Core/Source/encoder.c ****               else
 208:Core/Source/encoder.c ****               {
 209:Core/Source/encoder.c ****                 if (flag_dir == 1) //–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ –ø—Ä—è–º–æ–≥–æ –ø–æ–≤–æ
 450              		.loc 1 209 17 is_stmt 1 view .LVU136
 451              		.loc 1 209 30 is_stmt 0 view .LVU137
 452 0196 364B     		ldr	r3, .L44+16
 453 0198 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 454              		.loc 1 209 20 view .LVU138
 455 019a 012B     		cmp	r3, #1
 456 019c 40D0     		beq	.L43
 457              	.L30:
 210:Core/Source/encoder.c ****                 {
 211:Core/Source/encoder.c ****                   enc_count++;  
 212:Core/Source/encoder.c ****                   OLED_Clear(NONE_INVERTED);
 213:Core/Source/encoder.c ****                   snprintf(lcd_buf, 25,"+cnt=%ld, %x, %x, %x", enc_count, val_new, val_old, val_old
 214:Core/Source/encoder.c ****                   OLED_DrawStr(lcd_buf, 15, 25);
 215:Core/Source/encoder.c ****                   OLED_UpdateScreen(); 
 216:Core/Source/encoder.c ****                 } 
 217:Core/Source/encoder.c ****               } 
 218:Core/Source/encoder.c ****               flag_rev = flag_dir = 0; //—Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
 458              		.loc 1 218 15 is_stmt 1 view .LVU139
 459              		.loc 1 218 35 is_stmt 0 view .LVU140
 460 019e 0023     		movs	r3, #0
 461 01a0 334A     		ldr	r2, .L44+16
 462 01a2 1370     		strb	r3, [r2]
 463              		.loc 1 218 24 view .LVU141
 464 01a4 334A     		ldr	r2, .L44+20
 465 01a6 1370     		strb	r3, [r2]
 219:Core/Source/encoder.c ****               val_old = val_new; //—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–
 466              		.loc 1 219 15 is_stmt 1 view .LVU142
 467              		.loc 1 219 23 is_stmt 0 view .LVU143
 468 01a8 2D4A     		ldr	r2, .L44
 469 01aa 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 470 01ac 2F4A     		ldr	r2, .L44+12
 471 01ae 1170     		strb	r1, [r2]
 220:Core/Source/encoder.c ****               cnt_timeout = 0; //—Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
ARM GAS  /tmp/ccvkHKs4.s 			page 14


 472              		.loc 1 220 15 is_stmt 1 view .LVU144
 473              		.loc 1 220 27 is_stmt 0 view .LVU145
 474 01b0 314A     		ldr	r2, .L44+24
 475 01b2 1370     		strb	r3, [r2]
 221:Core/Source/encoder.c ****               state_machine = SM_WAIT; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–Ω–µ
 476              		.loc 1 221 15 is_stmt 1 view .LVU146
 477              		.loc 1 221 29 is_stmt 0 view .LVU147
 478 01b4 2B4A     		ldr	r2, .L44+4
 479 01b6 1370     		strb	r3, [r2]
 480 01b8 7BE0     		b	.L7
 481              	.L41:
 183:Core/Source/encoder.c ****               {
 482              		.loc 1 183 15 is_stmt 1 view .LVU148
 183:Core/Source/encoder.c ****               {
 483              		.loc 1 183 31 is_stmt 0 view .LVU149
 484 01ba 2F4B     		ldr	r3, .L44+24
 485 01bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 183:Core/Source/encoder.c ****               {
 486              		.loc 1 183 18 view .LVU150
 487 01be 0F2B     		cmp	r3, #15
 488 01c0 0AD9     		bls	.L28
 185:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; 
 489              		.loc 1 185 17 is_stmt 1 view .LVU151
 185:Core/Source/encoder.c ****                 flag_rev = flag_dir = 0; 
 490              		.loc 1 185 29 is_stmt 0 view .LVU152
 491 01c2 0023     		movs	r3, #0
 492 01c4 2C4A     		ldr	r2, .L44+24
 493 01c6 1370     		strb	r3, [r2]
 186:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–
 494              		.loc 1 186 17 is_stmt 1 view .LVU153
 186:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–
 495              		.loc 1 186 37 is_stmt 0 view .LVU154
 496 01c8 294A     		ldr	r2, .L44+16
 497 01ca 1370     		strb	r3, [r2]
 186:Core/Source/encoder.c ****                 state_machine = SM_RESET; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–
 498              		.loc 1 186 26 view .LVU155
 499 01cc 294A     		ldr	r2, .L44+20
 500 01ce 1370     		strb	r3, [r2]
 187:Core/Source/encoder.c ****               }
 501              		.loc 1 187 17 is_stmt 1 view .LVU156
 187:Core/Source/encoder.c ****               }
 502              		.loc 1 187 31 is_stmt 0 view .LVU157
 503 01d0 244B     		ldr	r3, .L44+4
 504 01d2 0422     		movs	r2, #4
 505 01d4 1A70     		strb	r2, [r3]
 506 01d6 6CE0     		b	.L7
 507              	.L28:
 190:Core/Source/encoder.c ****             }       
 508              		.loc 1 190 18 is_stmt 1 view .LVU158
 509 01d8 284B     		ldr	r3, .L44+28
 510 01da 1888     		ldrh	r0, [r3]
 511 01dc FFF7FEFF 		bl	delay_ms
 512              	.LVL9:
 513 01e0 67E0     		b	.L7
 514              	.L42:
 201:Core/Source/encoder.c ****                 OLED_Clear(NONE_INVERTED);
 515              		.loc 1 201 17 view .LVU159
ARM GAS  /tmp/ccvkHKs4.s 			page 15


 201:Core/Source/encoder.c ****                 OLED_Clear(NONE_INVERTED);
 516              		.loc 1 201 26 is_stmt 0 view .LVU160
 517 01e2 274C     		ldr	r4, .L44+32
 518 01e4 2368     		ldr	r3, [r4]
 519 01e6 013B     		subs	r3, r3, #1
 520 01e8 2360     		str	r3, [r4]
 202:Core/Source/encoder.c ****                 snprintf(lcd_buf, 25,"-cnt=%ld, %x, %x, %x", enc_count, val_new, val_old, val_old |
 521              		.loc 1 202 17 is_stmt 1 view .LVU161
 522 01ea 0020     		movs	r0, #0
 523 01ec FFF7FEFF 		bl	OLED_Clear
 524              	.LVL10:
 203:Core/Source/encoder.c ****                 OLED_DrawStr(lcd_buf, 15, 25);
 525              		.loc 1 203 17 view .LVU162
 526 01f0 1B4B     		ldr	r3, .L44
 527 01f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 528 01f4 1D4A     		ldr	r2, .L44+12
 529 01f6 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 530 01f8 224D     		ldr	r5, .L44+36
 531 01fa 43EA0201 		orr	r1, r3, r2
 532 01fe 0291     		str	r1, [sp, #8]
 533 0200 0192     		str	r2, [sp, #4]
 534 0202 0093     		str	r3, [sp]
 535 0204 2368     		ldr	r3, [r4]
 536 0206 204A     		ldr	r2, .L44+40
 537 0208 1921     		movs	r1, #25
 538 020a 2846     		mov	r0, r5
 539 020c FFF7FEFF 		bl	snprintf
 540              	.LVL11:
 204:Core/Source/encoder.c ****                 OLED_UpdateScreen();
 541              		.loc 1 204 17 view .LVU163
 542 0210 1922     		movs	r2, #25
 543 0212 0F21     		movs	r1, #15
 544 0214 2846     		mov	r0, r5
 545 0216 FFF7FEFF 		bl	OLED_DrawStr
 546              	.LVL12:
 205:Core/Source/encoder.c ****               }
 547              		.loc 1 205 17 view .LVU164
 548 021a FFF7FEFF 		bl	OLED_UpdateScreen
 549              	.LVL13:
 550 021e BEE7     		b	.L30
 551              	.L43:
 211:Core/Source/encoder.c ****                   OLED_Clear(NONE_INVERTED);
 552              		.loc 1 211 19 view .LVU165
 211:Core/Source/encoder.c ****                   OLED_Clear(NONE_INVERTED);
 553              		.loc 1 211 28 is_stmt 0 view .LVU166
 554 0220 174C     		ldr	r4, .L44+32
 555 0222 2368     		ldr	r3, [r4]
 556 0224 0133     		adds	r3, r3, #1
 557 0226 2360     		str	r3, [r4]
 212:Core/Source/encoder.c ****                   snprintf(lcd_buf, 25,"+cnt=%ld, %x, %x, %x", enc_count, val_new, val_old, val_old
 558              		.loc 1 212 19 is_stmt 1 view .LVU167
 559 0228 0020     		movs	r0, #0
 560 022a FFF7FEFF 		bl	OLED_Clear
 561              	.LVL14:
 213:Core/Source/encoder.c ****                   OLED_DrawStr(lcd_buf, 15, 25);
 562              		.loc 1 213 19 view .LVU168
 563 022e 0C4B     		ldr	r3, .L44
ARM GAS  /tmp/ccvkHKs4.s 			page 16


 564 0230 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 565 0232 0E4A     		ldr	r2, .L44+12
 566 0234 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 567 0236 134D     		ldr	r5, .L44+36
 568 0238 43EA0201 		orr	r1, r3, r2
 569 023c 0291     		str	r1, [sp, #8]
 570 023e 0192     		str	r2, [sp, #4]
 571 0240 0093     		str	r3, [sp]
 572 0242 2368     		ldr	r3, [r4]
 573 0244 114A     		ldr	r2, .L44+44
 574 0246 1921     		movs	r1, #25
 575 0248 2846     		mov	r0, r5
 576 024a FFF7FEFF 		bl	snprintf
 577              	.LVL15:
 214:Core/Source/encoder.c ****                   OLED_UpdateScreen(); 
 578              		.loc 1 214 19 view .LVU169
 579 024e 1922     		movs	r2, #25
 580 0250 0F21     		movs	r1, #15
 581 0252 2846     		mov	r0, r5
 582 0254 FFF7FEFF 		bl	OLED_DrawStr
 583              	.LVL16:
 215:Core/Source/encoder.c ****                 } 
 584              		.loc 1 215 19 view .LVU170
 585 0258 FFF7FEFF 		bl	OLED_UpdateScreen
 586              	.LVL17:
 587 025c 9FE7     		b	.L30
 588              	.L45:
 589 025e 00BF     		.align	2
 590              	.L44:
 591 0260 00000000 		.word	.LANCHOR0
 592 0264 00000000 		.word	.LANCHOR1
 593 0268 00000000 		.word	flag_end_delay
 594 026c 00000000 		.word	.LANCHOR2
 595 0270 00000000 		.word	.LANCHOR4
 596 0274 00000000 		.word	.LANCHOR3
 597 0278 00000000 		.word	.LANCHOR5
 598 027c 00000000 		.word	.LANCHOR6
 599 0280 00000000 		.word	.LANCHOR7
 600 0284 00000000 		.word	lcd_buf
 601 0288 00000000 		.word	.LC0
 602 028c 18000000 		.word	.LC1
 603              	.L9:
 222:Core/Source/encoder.c ****             }            
 223:Core/Source/encoder.c ****           } 
 224:Core/Source/encoder.c ****           break;  
 225:Core/Source/encoder.c **** 
 226:Core/Source/encoder.c ****         case  SM_RESET: //—Å—Ç–∞–¥–∏—è –æ–∂–∏–¥–∞–Ω–∏—è —Å–±—Ä–æ—Å–∞ –ø–æ–∫–∞–∑–∞–Ω—Ä–∏–π —ç–Ω–∫–æ–
 227:Core/Source/encoder.c ****           if (flag_end_delay == 0) //–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –∏—Å—Ç—ë–∫
 604              		.loc 1 227 11 view .LVU171
 605              		.loc 1 227 30 is_stmt 0 view .LVU172
 606 0290 094B     		ldr	r3, .L46
 607 0292 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 608              		.loc 1 227 14 view .LVU173
 609 0294 6BB9     		cbnz	r3, .L7
 228:Core/Source/encoder.c ****           {
 229:Core/Source/encoder.c ****             if (val_new != val_old) //–µ—Å–ª–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∏
 610              		.loc 1 229 13 is_stmt 1 view .LVU174
ARM GAS  /tmp/ccvkHKs4.s 			page 17


 611              		.loc 1 229 25 is_stmt 0 view .LVU175
 612 0296 094B     		ldr	r3, .L46+4
 613 0298 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 614              		.loc 1 229 16 view .LVU176
 615 029a 9842     		cmp	r0, r3
 616 029c 05D0     		beq	.L31
 230:Core/Source/encoder.c ****             {
 231:Core/Source/encoder.c ****               if (val_new == PULSE_STATE_DEFAULT) //–µ—Å–ª–∏ —ç–Ω–∫–æ–¥–µ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –
 617              		.loc 1 231 15 is_stmt 1 view .LVU177
 618              		.loc 1 231 18 is_stmt 0 view .LVU178
 619 029e 10B9     		cbnz	r0, .L32
 232:Core/Source/encoder.c **** 	            { 
 233:Core/Source/encoder.c ****                 state_machine = SM_WAIT; //–ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –∫–æ–Ω
 620              		.loc 1 233 17 is_stmt 1 view .LVU179
 621              		.loc 1 233 31 is_stmt 0 view .LVU180
 622 02a0 074B     		ldr	r3, .L46+8
 623 02a2 0022     		movs	r2, #0
 624 02a4 1A70     		strb	r2, [r3]
 625              	.L32:
 234:Core/Source/encoder.c ****                   
 235:Core/Source/encoder.c ****                 #ifdef __USE_DBG
 236:Core/Source/encoder.c ****                   sprintf (DBG_buffer,  "END_RESET,new=%u,old=%u\r\n",  val_new, val_old);
 237:Core/Source/encoder.c **** 		              DBG_PutString(DBG_buffer);
 238:Core/Source/encoder.c **** 	              #endif
 239:Core/Source/encoder.c ****               }
 240:Core/Source/encoder.c ****               else
 241:Core/Source/encoder.c ****               {
 242:Core/Source/encoder.c ****                 #ifdef __USE_DBG
 243:Core/Source/encoder.c ****                   sprintf (DBG_buffer,  "CONT_RESET,new=%u,old=%u\r\n",  val_new, val_old);
 244:Core/Source/encoder.c **** 		              DBG_PutString(DBG_buffer);
 245:Core/Source/encoder.c **** 	              #endif
 246:Core/Source/encoder.c ****               }
 626              		.loc 1 246 15 is_stmt 1 view .LVU181
 247:Core/Source/encoder.c ****               val_old = val_new; //—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è —ç–Ω–∫–
 627              		.loc 1 247 15 view .LVU182
 628              		.loc 1 247 23 is_stmt 0 view .LVU183
 629 02a6 054B     		ldr	r3, .L46+4
 630 02a8 1870     		strb	r0, [r3]
 631              	.L31:
 248:Core/Source/encoder.c ****             }               
 249:Core/Source/encoder.c ****             delay_ms (ms_delay); //–Ω–∞—á–∞–ª–æ —Ç–∞–π–º–∞—É—Ç–∞
 632              		.loc 1 249 13 is_stmt 1 view .LVU184
 633 02aa 064B     		ldr	r3, .L46+12
 634 02ac 1888     		ldrh	r0, [r3]
 635 02ae FFF7FEFF 		bl	delay_ms
 636              	.LVL18:
 637              	.L7:
 250:Core/Source/encoder.c ****           }
 251:Core/Source/encoder.c ****           break;
 252:Core/Source/encoder.c **** 
 253:Core/Source/encoder.c ****         default:
 254:Core/Source/encoder.c ****           break;         
 255:Core/Source/encoder.c ****       }
 256:Core/Source/encoder.c ****     }
 257:Core/Source/encoder.c ****   }
 258:Core/Source/encoder.c **** }
 638              		.loc 1 258 1 is_stmt 0 view .LVU185
ARM GAS  /tmp/ccvkHKs4.s 			page 18


 639 02b2 05B0     		add	sp, sp, #20
 640              	.LCFI5:
 641              		.cfi_def_cfa_offset 12
 642              		@ sp needed
 643 02b4 30BD     		pop	{r4, r5, pc}
 644              	.L47:
 645 02b6 00BF     		.align	2
 646              	.L46:
 647 02b8 00000000 		.word	flag_end_delay
 648 02bc 00000000 		.word	.LANCHOR2
 649 02c0 00000000 		.word	.LANCHOR1
 650 02c4 00000000 		.word	.LANCHOR6
 651              		.cfi_endproc
 652              	.LFE120:
 654              		.global	enc_count
 655              		.global	cnt_timeout
 656              		.global	ms_delay
 657              		.global	state_machine
 658              		.global	flag_rev
 659              		.global	flag_dir
 660              		.global	val_new
 661              		.global	val_old
 662              		.section	.bss.cnt_timeout,"aw",%nobits
 663              		.set	.LANCHOR5,. + 0
 666              	cnt_timeout:
 667 0000 00       		.space	1
 668              		.section	.bss.enc_count,"aw",%nobits
 669              		.align	2
 670              		.set	.LANCHOR7,. + 0
 673              	enc_count:
 674 0000 00000000 		.space	4
 675              		.section	.bss.flag_dir,"aw",%nobits
 676              		.set	.LANCHOR4,. + 0
 679              	flag_dir:
 680 0000 00       		.space	1
 681              		.section	.bss.flag_rev,"aw",%nobits
 682              		.set	.LANCHOR3,. + 0
 685              	flag_rev:
 686 0000 00       		.space	1
 687              		.section	.bss.state_machine,"aw",%nobits
 688              		.set	.LANCHOR1,. + 0
 691              	state_machine:
 692 0000 00       		.space	1
 693              		.section	.bss.val_new,"aw",%nobits
 694              		.set	.LANCHOR0,. + 0
 697              	val_new:
 698 0000 00       		.space	1
 699              		.section	.bss.val_old,"aw",%nobits
 700              		.set	.LANCHOR2,. + 0
 703              	val_old:
 704 0000 00       		.space	1
 705              		.section	.data.ms_delay,"aw"
 706              		.align	2
 707              		.set	.LANCHOR6,. + 0
 710              	ms_delay:
 711 0000 0A000000 		.word	10
 712              		.text
ARM GAS  /tmp/ccvkHKs4.s 			page 19


 713              	.Letext0:
 714              		.file 2 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/m
 715              		.file 3 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/s
 716              		.file 4 "Drivers/CMSIS/GD/GD32F30x/Include/gd32f30x.h"
 717              		.file 5 "Core/Include/typedef.h"
 718              		.file 6 "Core/Include/encoder.h"
 719              		.file 7 "Core/Include/tim.h"
 720              		.file 8 "Drivers/display/OLED.h"
 721              		.file 9 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/s
 722              		.file 10 "Drivers/GD32F30x_standard_peripheral/Include/gd32f30x_gpio.h"
ARM GAS  /tmp/ccvkHKs4.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 encoder.c
     /tmp/ccvkHKs4.s:18     .text.read_gray_code_from_encoder:0000000000000000 $t
     /tmp/ccvkHKs4.s:24     .text.read_gray_code_from_encoder:0000000000000000 read_gray_code_from_encoder
     /tmp/ccvkHKs4.s:90     .text.read_gray_code_from_encoder:0000000000000050 $d
     /tmp/ccvkHKs4.s:95     .rodata.read_data_encoder.str1.4:0000000000000000 $d
     /tmp/ccvkHKs4.s:102    .text.read_data_encoder:0000000000000000 $t
     /tmp/ccvkHKs4.s:108    .text.read_data_encoder:0000000000000000 read_data_encoder
     /tmp/ccvkHKs4.s:137    .text.read_data_encoder:000000000000001a $d
     /tmp/ccvkHKs4.s:142    .text.read_data_encoder:0000000000000024 $t
     /tmp/ccvkHKs4.s:591    .text.read_data_encoder:0000000000000260 $d
     /tmp/ccvkHKs4.s:606    .text.read_data_encoder:0000000000000290 $t
     /tmp/ccvkHKs4.s:647    .text.read_data_encoder:00000000000002b8 $d
     /tmp/ccvkHKs4.s:673    .bss.enc_count:0000000000000000 enc_count
     /tmp/ccvkHKs4.s:666    .bss.cnt_timeout:0000000000000000 cnt_timeout
     /tmp/ccvkHKs4.s:710    .data.ms_delay:0000000000000000 ms_delay
     /tmp/ccvkHKs4.s:691    .bss.state_machine:0000000000000000 state_machine
     /tmp/ccvkHKs4.s:685    .bss.flag_rev:0000000000000000 flag_rev
     /tmp/ccvkHKs4.s:679    .bss.flag_dir:0000000000000000 flag_dir
     /tmp/ccvkHKs4.s:697    .bss.val_new:0000000000000000 val_new
     /tmp/ccvkHKs4.s:703    .bss.val_old:0000000000000000 val_old
     /tmp/ccvkHKs4.s:667    .bss.cnt_timeout:0000000000000000 $d
     /tmp/ccvkHKs4.s:669    .bss.enc_count:0000000000000000 $d
     /tmp/ccvkHKs4.s:680    .bss.flag_dir:0000000000000000 $d
     /tmp/ccvkHKs4.s:686    .bss.flag_rev:0000000000000000 $d
     /tmp/ccvkHKs4.s:692    .bss.state_machine:0000000000000000 $d
     /tmp/ccvkHKs4.s:698    .bss.val_new:0000000000000000 $d
     /tmp/ccvkHKs4.s:704    .bss.val_old:0000000000000000 $d
     /tmp/ccvkHKs4.s:706    .data.ms_delay:0000000000000000 $d

UNDEFINED SYMBOLS
gpio_input_bit_get
delay_ms
OLED_Clear
snprintf
OLED_DrawStr
OLED_UpdateScreen
flag_end_delay
lcd_buf
